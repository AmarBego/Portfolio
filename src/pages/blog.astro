---
import Layout from '../layouts/Layout.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

const blogPosts = await getCollection('blog');
---

<Layout title="Blog">
    <main class="blog-main">
        <h1 class="blog-title">Blog</h1>
        <p class="blog-intro">
            Welcome to my blog! Here you'll find articles, tutorials, and other resources on web development, design, and more. Check back often for updates, or <a href="/contact">get in touch</a> if you have any questions or suggestions.
        </p>
        <div class="blog-grid">
            {blogPosts.map((post: CollectionEntry<'blog'>) => (
                <a href={`/blog/${post.slug}`} class="blog-card">
                    <h2>{post.data.title}</h2>
                    <p>{post.data.description}</p>
                    <span class="read-more">Read more â†’</span>
                </a>
            ))}
        </div>
    </main>
</Layout>

<style>
    .blog-main {
        margin: auto;
        padding: 2rem;
        max-width: 1200px;
        color: white;
    }
    .blog-title {
        font-size: 3rem;
        text-align: center;
        margin-bottom: 1rem;
    }
    .blog-intro {
        text-align: center;
        max-width: 800px;
        margin: 0 auto 2rem;
    }
    .blog-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }
    .blog-card {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 1.5rem;
        transition: transform 0.3s ease;
        text-decoration: none;
        color: white;
    }
    .blog-card:hover {
        transform: translateY(-5px);
    }
    .blog-card h2 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }
    .read-more {
        display: inline-block;
        margin-top: 1rem;
        font-weight: bold;
    }
</style>